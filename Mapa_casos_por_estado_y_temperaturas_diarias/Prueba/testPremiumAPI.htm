<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div>

        <input type="submit" id="btnPastWeatherPremium" value="Get Past Weather - Premium API" />
        <br />
        <br />
        <div id="resultContainer">
        </div>
    </div>
    </form>
</body>
</html>
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script src="/script/premiumAPI.js" type="text/javascript"></script>
<script type="text/javascript">

    var resultContainer = $('#resultContainer');
    var output = '';

    $(document).ready(function () {

        $('#btnPastWeatherPremium').click(GetPastWeather);

    });

    //------------ PAST WEATHER ----------------

    function GetPastWeather(e) {

        var pastWeatherInput = {
            query: 'Mexico+city, mexico',
            format: 'JSON',
            enddate: '2020-03-17',
            date: '2020-01-01',
            callback: 'PastWeatherCallback'
        };

        JSONP_PastWeather(pastWeatherInput);
        e.preventDefault();
    }

    function PastWeatherCallback(pastWeather) {

        output = "<br/> Date: " + pastWeather.data.weather[0].date;
        output += "<br/> Max Temp(C): " + pastWeather.data.weather[0].maxtempC;

        resultContainer.empty();
        resultContainer.html(output);

    }

    //-------------------------------------------
</script>